<div class="content">
    <ng-container *ngIf="mobileQuery.matches; else desktop">
        <mat-toolbar class="mb-3 marketplace-toolbar mobile">
            <span>Marketplace <mat-icon>shopping_cart</mat-icon></span>
        </mat-toolbar>
    </ng-container>

    <ng-template #desktop>
        <mat-toolbar class="marketplace-toolbar">
            <div class="marketplaces-container">
                <span class="aligned-with-icon">
                    {{ 'MODULES.TITLE' | translate }}
                    <mat-icon>shopping_cart</mat-icon>
                </span>

                <div class="marketplaces-buttons">
                    <button
                        mat-stroked-button
                        [ngClass]="{
                            'ai4eosc-marketplace-button':
                                marketplaceName !== 'ai4eosc',
                            'ai4eosc-marketplace-button-selected':
                                marketplaceName === 'ai4eosc',
                        }"
                        (click)="selectMarketplace('ai4eosc')"
                    >
                        AI4EOSC
                    </button>

                    <mat-divider [vertical]="true"></mat-divider>

                    <button
                        mat-stroked-button
                        [ngClass]="{
                            'ai4life-marketplace-button':
                                marketplaceName !== 'ai4life',
                            'ai4life-marketplace-button-selected':
                                marketplaceName === 'ai4life',
                        }"
                        (click)="selectMarketplace('ai4life')"
                    >
                        AI4Life
                    </button>
                </div>
            </div>
        </mat-toolbar>
    </ng-template>

    @if (marketplaceName === 'ai4eosc' && !ai4eoscModulesLoading) {
        <app-ai4eosc-list [elements]="ai4eoscModules"></app-ai4eosc-list>
    } @else if (marketplaceName === 'ai4life' && !ai4lifeModulesLoading) {
        <app-ai4life-list [modules]="ai4lifeModules"></app-ai4life-list>
    } @else {
        <div class="spinner">
            <mat-progress-spinner color="primary" mode="indeterminate">
            </mat-progress-spinner>
        </div>
    }
</div>
